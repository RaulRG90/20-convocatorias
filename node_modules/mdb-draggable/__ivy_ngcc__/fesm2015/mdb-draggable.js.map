{"version":3,"file":"mdb-draggable.js","sources":["../../../projects/mdb-draggable/src/lib/mdb-draggable.directive.ts","../../../projects/mdb-draggable/src/lib/mdb-draggable.module.ts","../../../projects/mdb-draggable/src/public_api.ts","../../../projects/mdb-draggable/src/mdb-draggable.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  Directive,\n  ElementRef,\n  HostBinding,\n  Renderer2,\n  OnInit,\n  OnDestroy,\n  Input,\n  Inject,\n  EventEmitter,\n  Output\n} from '@angular/core';\nimport { fromEvent, merge, Subject, Observable } from 'rxjs';\nimport { takeUntil, tap, first, concatMap, filter } from 'rxjs/operators';\nimport { DOCUMENT } from \"@angular/common\";\nimport { Position } from './position.interface';\nimport { Boundaries } from './boundaries.interface';\n\n@Directive({\n  selector: '[mdbDraggable]'\n})\nexport class MdbDraggableDirective implements OnInit, OnDestroy {\n  @Input() disabled = false;\n  @Input() resetPosition = false;\n  @Input()\n  get boundTo() { return this._boundTo; }\n  set boundTo(value: any) {\n    if (typeof value === 'string') {\n      this._boundTo = this.getHtmlElement(value);\n    } else {\n      this._boundTo = value;\n    }\n  }\n  private _boundTo: HTMLElement;\n  @Input()\n  get handle() { return this._handle; }\n  set handle(value: any) {\n    if (typeof value === 'string') {\n      this._handle = this.getHtmlElement(value);\n      this.draggableEl = this.getHtmlElement(value);\n    } else {\n      this._handle = value;\n      this.draggableEl = value;\n    }\n  }\n  private _handle: HTMLElement;\n\n  @Input() snapSensitivity = 50;\n  @Input() lockAxis: string = null;\n  @Input() autoScroll = true;\n  @Input() scrollSpeed = 25;\n  @Input() scrollSensitivity = 30;\n  @Input() snapToGrid = false;\n  @Input() gridSize = 1;\n\n  @Output() dragStart = new EventEmitter<HTMLElement>();\n  @Output() dragEnd = new EventEmitter<HTMLElement>();\n\n  private elPos: Position = { x: 0, y: 0 };\n\n  private startPos: Position;\n\n  private boundaries: Boundaries;\n\n  private draggableEl: HTMLElement = this.el.nativeElement;\n\n  offsetX: Number;\n  offsetY: Number;\n\n  start$: Observable<any>;\n  move$: Observable<any>;\n  end$: Observable<any>;\n\n  private destroy$ = new Subject<any>();\n\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    @Inject(DOCUMENT) private document: any) {}\n\n  @HostBinding('class.mdb-draggable')\n  movable = true;\n\n  @HostBinding('class.mdb-dragging')\n  dragging = false;\n\n  private _subscribeToEvents() {\n    const drag = this.start$\n      .pipe(\n        filter( (event: any) => event.button !== 2 ),\n        concatMap( (event: any) => {\n          this.onDragStart(event);\n          return this.move$\n            .pipe(\n              tap( (moveEvent: any) => {\n                this.onDragMove(moveEvent);\n              }),\n              takeUntil(this.end$)\n            );\n        }),\n        takeUntil(this.destroy$)\n      );\n\n      const drop = this.start$\n      .pipe(\n        concatMap( () => {\n          return this.end$\n            .pipe(\n              first(),\n              tap(() => {\n                this.onDragEnd();\n              })\n            );\n        }),\n        takeUntil(this.destroy$)\n      );\n\n      drag.subscribe();\n      drop.subscribe();\n\n  }\n\n  ngOnInit() {\n\n    this.start$ = merge(\n      fromEvent(this.draggableEl, 'mousedown', { passive: false }),\n      fromEvent(this.draggableEl, 'touchstart', { passive: false })\n    );\n\n    this.move$ = merge(\n      fromEvent(this.document, 'mousemove', { passive: false }),\n      fromEvent(this.document, 'touchmove', { passive: false })\n    );\n\n    this.end$ = merge(\n      fromEvent(this.document, 'mouseup', { passive: false }),\n      fromEvent(this.document, 'touchend', { passive: false }),\n    );\n\n    this._subscribeToEvents();\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  private _resetPos() {\n    this.elPos.x = 0;\n    this.elPos.y = 0;\n    this.renderer.setStyle(this.el.nativeElement, 'transition', 'transform ease .5s');\n\n    this._updatePosition();\n  }\n\n  private getHtmlElement(selector: string) {\n    return this.document.querySelector(selector);\n  }\n\n  private _measureBoundaries() {\n    const viewRect: ClientRect = this.boundTo.getBoundingClientRect();\n    const movableClientRect: ClientRect = this.el.nativeElement.getBoundingClientRect();\n\n    this.boundaries = {\n      minX: viewRect.left - movableClientRect.left + this.elPos.x,\n      maxX: viewRect.right - movableClientRect.right + this.elPos.x,\n      minY: viewRect.top - movableClientRect.top + this.elPos.y,\n      maxY: viewRect.bottom - movableClientRect.bottom + this.elPos.y\n    };\n  }\n\n  private _applyBoundaries() {\n    this.elPos.x = Math.max(this.boundaries.minX, this.elPos.x);\n    this.elPos.x = Math.min(this.boundaries.maxX, this.elPos.x);\n    this.elPos.y = Math.max(this.boundaries.minY, this.elPos.y);\n    this.elPos.y = Math.min(this.boundaries.maxY, this.elPos.y);\n  }\n\n  onDragStart(event: any) {\n    event.preventDefault();\n    if (event instanceof MouseEvent && event.button === 2) {\n      return;\n    }\n\n    if (this.resetPosition) {\n      this.renderer.removeStyle(this.el.nativeElement, 'transition');\n    }\n\n    this.dragging = true;\n\n    if (event.type === 'mousedown') {\n      this.startPos = {\n        x: event.pageX - this.elPos.x,\n        y: event.pageY - this.elPos.y\n      };\n    } else {\n      this.startPos = {\n        x: event.changedTouches[0].pageX - this.elPos.x,\n        y: event.changedTouches[0].pageY - this.elPos.y\n      };\n    }\n\n    if (this.boundTo) {\n      this._measureBoundaries();\n    }\n\n    this.dragStart.emit(this.el.nativeElement);\n\n  }\n\n  private _updateScrollPos() {\n    const elRect = this.el.nativeElement.getBoundingClientRect();\n\n    const height = this.document.documentElement.clientHeight;\n    const width = this.document.documentElement.clientWidth;\n\n\n    if (elRect.top < this.scrollSensitivity) {\n      this.document.documentElement.scrollTop -= this.scrollSpeed;\n    }\n\n    if (elRect.top + elRect.height > height - this.scrollSensitivity) {\n      this.document.documentElement.scrollTop += this.scrollSpeed;\n    }\n\n    if (elRect.left  < this.scrollSensitivity) {\n      this.document.documentElement.scrollLeft -= this.scrollSpeed;\n    }\n\n    if (elRect.left + elRect.width > width - this.scrollSensitivity) {\n      this.document.documentElement.scrollLeft += this.scrollSpeed;\n    }\n  }\n\n  onDragMove(event: any) {\n    event.preventDefault();\n    if (this.disabled) {\n      return;\n    }\n\n    if (this.snapToGrid && this.gridSize > 1) {\n      if (event.type === 'mousemove') {\n        this.elPos.x = Math.round((event.pageX - this.startPos.x) / this.gridSize) * this.gridSize;\n        this.elPos.y = Math.round((event.pageY - this.startPos.y) / this.gridSize) * this.gridSize;\n      } else {\n        this.elPos.x = Math.round((event.changedTouches[0].pageX - this.startPos.x) / this.gridSize) * this.gridSize;\n        this.elPos.y = Math.round((event.changedTouches[0].pageY - this.startPos.y) / this.gridSize) * this.gridSize;\n      }\n    } else {\n      if (event.type === 'mousemove') {\n        this.elPos.x = event.pageX - this.startPos.x;\n        this.elPos.y = event.pageY - this.startPos.y;\n      } else {\n        this.elPos.x = event.changedTouches[0].pageX - this.startPos.x;\n        this.elPos.y = event.changedTouches[0].pageY - this.startPos.y;\n      }\n    }\n\n    if (this.boundTo) {\n      this._applyBoundaries();\n    }\n\n    if (this.lockAxis === 'x') {\n      this.elPos.y = 0;\n    }\n\n    if (this.lockAxis === 'y') {\n      this.elPos.x = 0;\n    }\n\n    if (this.autoScroll) {\n      this._updateScrollPos();\n    }\n\n    this._updatePosition();\n  }\n\n  onDragEnd() {\n    this.dragging = false;\n\n    if (this.resetPosition) {\n      this._resetPos();\n    }\n\n    this.dragEnd.emit(this.el.nativeElement);\n  }\n\n  private _updatePosition() {\n    requestAnimationFrame(() => {\n      const position = `translate(${this.elPos.x}px, ${this.elPos.y}px)`;\n      this.renderer.setStyle(this.el.nativeElement, 'transform', position);\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { MdbDraggableDirective } from './mdb-draggable.directive';\n\n@NgModule({\n  declarations: [MdbDraggableDirective],\n  imports: [\n  ],\n  exports: [MdbDraggableDirective]\n})\nexport class MdbDraggableModule { }\n","/*\n * Public API Surface of mdb-draggable\n */\n\nexport * from './lib/mdb-draggable.directive';\nexport * from './lib/mdb-draggable.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"]}