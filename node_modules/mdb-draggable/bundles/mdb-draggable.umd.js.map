{"version":3,"file":"mdb-draggable.umd.js","sources":["../../../projects/mdb-draggable/src/lib/mdb-draggable.directive.ts","../../../projects/mdb-draggable/src/lib/mdb-draggable.module.ts","../../../projects/mdb-draggable/src/public_api.ts","../../../projects/mdb-draggable/src/mdb-draggable.ts"],"sourcesContent":["import {\n  Directive,\n  ElementRef,\n  HostBinding,\n  Renderer2,\n  OnInit,\n  OnDestroy,\n  Input,\n  Inject,\n  EventEmitter,\n  Output\n} from '@angular/core';\nimport { fromEvent, merge, Subject, Observable } from 'rxjs';\nimport { takeUntil, tap, first, concatMap, filter } from 'rxjs/operators';\nimport { DOCUMENT } from \"@angular/common\";\nimport { Position } from './position.interface';\nimport { Boundaries } from './boundaries.interface';\n\n@Directive({\n  selector: '[mdbDraggable]'\n})\nexport class MdbDraggableDirective implements OnInit, OnDestroy {\n  @Input() disabled = false;\n  @Input() resetPosition = false;\n  @Input()\n  get boundTo() { return this._boundTo; }\n  set boundTo(value: any) {\n    if (typeof value === 'string') {\n      this._boundTo = this.getHtmlElement(value);\n    } else {\n      this._boundTo = value;\n    }\n  }\n  private _boundTo: HTMLElement;\n  @Input()\n  get handle() { return this._handle; }\n  set handle(value: any) {\n    if (typeof value === 'string') {\n      this._handle = this.getHtmlElement(value);\n      this.draggableEl = this.getHtmlElement(value);\n    } else {\n      this._handle = value;\n      this.draggableEl = value;\n    }\n  }\n  private _handle: HTMLElement;\n\n  @Input() snapSensitivity = 50;\n  @Input() lockAxis: string = null;\n  @Input() autoScroll = true;\n  @Input() scrollSpeed = 25;\n  @Input() scrollSensitivity = 30;\n  @Input() snapToGrid = false;\n  @Input() gridSize = 1;\n\n  @Output() dragStart = new EventEmitter<HTMLElement>();\n  @Output() dragEnd = new EventEmitter<HTMLElement>();\n\n  private elPos: Position = { x: 0, y: 0 };\n\n  private startPos: Position;\n\n  private boundaries: Boundaries;\n\n  private draggableEl: HTMLElement = this.el.nativeElement;\n\n  offsetX: Number;\n  offsetY: Number;\n\n  start$: Observable<any>;\n  move$: Observable<any>;\n  end$: Observable<any>;\n\n  private destroy$ = new Subject<any>();\n\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    @Inject(DOCUMENT) private document: any) {}\n\n  @HostBinding('class.mdb-draggable')\n  movable = true;\n\n  @HostBinding('class.mdb-dragging')\n  dragging = false;\n\n  private _subscribeToEvents() {\n    const drag = this.start$\n      .pipe(\n        filter( (event: any) => event.button !== 2 ),\n        concatMap( (event: any) => {\n          this.onDragStart(event);\n          return this.move$\n            .pipe(\n              tap( (moveEvent: any) => {\n                this.onDragMove(moveEvent);\n              }),\n              takeUntil(this.end$)\n            );\n        }),\n        takeUntil(this.destroy$)\n      );\n\n      const drop = this.start$\n      .pipe(\n        concatMap( () => {\n          return this.end$\n            .pipe(\n              first(),\n              tap(() => {\n                this.onDragEnd();\n              })\n            );\n        }),\n        takeUntil(this.destroy$)\n      );\n\n      drag.subscribe();\n      drop.subscribe();\n\n  }\n\n  ngOnInit() {\n\n    this.start$ = merge(\n      fromEvent(this.draggableEl, 'mousedown', { passive: false }),\n      fromEvent(this.draggableEl, 'touchstart', { passive: false })\n    );\n\n    this.move$ = merge(\n      fromEvent(this.document, 'mousemove', { passive: false }),\n      fromEvent(this.document, 'touchmove', { passive: false })\n    );\n\n    this.end$ = merge(\n      fromEvent(this.document, 'mouseup', { passive: false }),\n      fromEvent(this.document, 'touchend', { passive: false }),\n    );\n\n    this._subscribeToEvents();\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  private _resetPos() {\n    this.elPos.x = 0;\n    this.elPos.y = 0;\n    this.renderer.setStyle(this.el.nativeElement, 'transition', 'transform ease .5s');\n\n    this._updatePosition();\n  }\n\n  private getHtmlElement(selector: string) {\n    return this.document.querySelector(selector);\n  }\n\n  private _measureBoundaries() {\n    const viewRect: ClientRect = this.boundTo.getBoundingClientRect();\n    const movableClientRect: ClientRect = this.el.nativeElement.getBoundingClientRect();\n\n    this.boundaries = {\n      minX: viewRect.left - movableClientRect.left + this.elPos.x,\n      maxX: viewRect.right - movableClientRect.right + this.elPos.x,\n      minY: viewRect.top - movableClientRect.top + this.elPos.y,\n      maxY: viewRect.bottom - movableClientRect.bottom + this.elPos.y\n    };\n  }\n\n  private _applyBoundaries() {\n    this.elPos.x = Math.max(this.boundaries.minX, this.elPos.x);\n    this.elPos.x = Math.min(this.boundaries.maxX, this.elPos.x);\n    this.elPos.y = Math.max(this.boundaries.minY, this.elPos.y);\n    this.elPos.y = Math.min(this.boundaries.maxY, this.elPos.y);\n  }\n\n  onDragStart(event: any) {\n    event.preventDefault();\n    if (event instanceof MouseEvent && event.button === 2) {\n      return;\n    }\n\n    if (this.resetPosition) {\n      this.renderer.removeStyle(this.el.nativeElement, 'transition');\n    }\n\n    this.dragging = true;\n\n    if (event.type === 'mousedown') {\n      this.startPos = {\n        x: event.pageX - this.elPos.x,\n        y: event.pageY - this.elPos.y\n      };\n    } else {\n      this.startPos = {\n        x: event.changedTouches[0].pageX - this.elPos.x,\n        y: event.changedTouches[0].pageY - this.elPos.y\n      };\n    }\n\n    if (this.boundTo) {\n      this._measureBoundaries();\n    }\n\n    this.dragStart.emit(this.el.nativeElement);\n\n  }\n\n  private _updateScrollPos() {\n    const elRect = this.el.nativeElement.getBoundingClientRect();\n\n    const height = this.document.documentElement.clientHeight;\n    const width = this.document.documentElement.clientWidth;\n\n\n    if (elRect.top < this.scrollSensitivity) {\n      this.document.documentElement.scrollTop -= this.scrollSpeed;\n    }\n\n    if (elRect.top + elRect.height > height - this.scrollSensitivity) {\n      this.document.documentElement.scrollTop += this.scrollSpeed;\n    }\n\n    if (elRect.left  < this.scrollSensitivity) {\n      this.document.documentElement.scrollLeft -= this.scrollSpeed;\n    }\n\n    if (elRect.left + elRect.width > width - this.scrollSensitivity) {\n      this.document.documentElement.scrollLeft += this.scrollSpeed;\n    }\n  }\n\n  onDragMove(event: any) {\n    event.preventDefault();\n    if (this.disabled) {\n      return;\n    }\n\n    if (this.snapToGrid && this.gridSize > 1) {\n      if (event.type === 'mousemove') {\n        this.elPos.x = Math.round((event.pageX - this.startPos.x) / this.gridSize) * this.gridSize;\n        this.elPos.y = Math.round((event.pageY - this.startPos.y) / this.gridSize) * this.gridSize;\n      } else {\n        this.elPos.x = Math.round((event.changedTouches[0].pageX - this.startPos.x) / this.gridSize) * this.gridSize;\n        this.elPos.y = Math.round((event.changedTouches[0].pageY - this.startPos.y) / this.gridSize) * this.gridSize;\n      }\n    } else {\n      if (event.type === 'mousemove') {\n        this.elPos.x = event.pageX - this.startPos.x;\n        this.elPos.y = event.pageY - this.startPos.y;\n      } else {\n        this.elPos.x = event.changedTouches[0].pageX - this.startPos.x;\n        this.elPos.y = event.changedTouches[0].pageY - this.startPos.y;\n      }\n    }\n\n    if (this.boundTo) {\n      this._applyBoundaries();\n    }\n\n    if (this.lockAxis === 'x') {\n      this.elPos.y = 0;\n    }\n\n    if (this.lockAxis === 'y') {\n      this.elPos.x = 0;\n    }\n\n    if (this.autoScroll) {\n      this._updateScrollPos();\n    }\n\n    this._updatePosition();\n  }\n\n  onDragEnd() {\n    this.dragging = false;\n\n    if (this.resetPosition) {\n      this._resetPos();\n    }\n\n    this.dragEnd.emit(this.el.nativeElement);\n  }\n\n  private _updatePosition() {\n    requestAnimationFrame(() => {\n      const position = `translate(${this.elPos.x}px, ${this.elPos.y}px)`;\n      this.renderer.setStyle(this.el.nativeElement, 'transform', position);\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { MdbDraggableDirective } from './mdb-draggable.directive';\n\n@NgModule({\n  declarations: [MdbDraggableDirective],\n  imports: [\n  ],\n  exports: [MdbDraggableDirective]\n})\nexport class MdbDraggableModule { }\n","/*\n * Public API Surface of mdb-draggable\n */\n\nexport * from './lib/mdb-draggable.directive';\nexport * from './lib/mdb-draggable.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["EventEmitter","Subject","filter","concatMap","tap","takeUntil","first","merge","fromEvent","Directive","ElementRef","Renderer2","Inject","DOCUMENT","Input","Output","HostBinding","NgModule"],"mappings":"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"}