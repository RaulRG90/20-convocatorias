{"version":3,"file":"mdb-draggable.js","sources":["../../../projects/mdb-draggable/src/lib/mdb-draggable.directive.ts","../../../projects/mdb-draggable/src/lib/mdb-draggable.module.ts","../../../projects/mdb-draggable/src/public_api.ts","../../../projects/mdb-draggable/src/mdb-draggable.ts"],"sourcesContent":["import {\n  Directive,\n  ElementRef,\n  HostBinding,\n  Renderer2,\n  OnInit,\n  OnDestroy,\n  Input,\n  Inject,\n  EventEmitter,\n  Output\n} from '@angular/core';\nimport { fromEvent, merge, Subject, Observable } from 'rxjs';\nimport { takeUntil, tap, first, concatMap, filter } from 'rxjs/operators';\nimport { DOCUMENT } from \"@angular/common\";\nimport { Position } from './position.interface';\nimport { Boundaries } from './boundaries.interface';\n\n@Directive({\n  selector: '[mdbDraggable]'\n})\nexport class MdbDraggableDirective implements OnInit, OnDestroy {\n  @Input() disabled = false;\n  @Input() resetPosition = false;\n  @Input()\n  get boundTo() { return this._boundTo; }\n  set boundTo(value: any) {\n    if (typeof value === 'string') {\n      this._boundTo = this.getHtmlElement(value);\n    } else {\n      this._boundTo = value;\n    }\n  }\n  private _boundTo: HTMLElement;\n  @Input()\n  get handle() { return this._handle; }\n  set handle(value: any) {\n    if (typeof value === 'string') {\n      this._handle = this.getHtmlElement(value);\n      this.draggableEl = this.getHtmlElement(value);\n    } else {\n      this._handle = value;\n      this.draggableEl = value;\n    }\n  }\n  private _handle: HTMLElement;\n\n  @Input() snapSensitivity = 50;\n  @Input() lockAxis: string = null;\n  @Input() autoScroll = true;\n  @Input() scrollSpeed = 25;\n  @Input() scrollSensitivity = 30;\n  @Input() snapToGrid = false;\n  @Input() gridSize = 1;\n\n  @Output() dragStart = new EventEmitter<HTMLElement>();\n  @Output() dragEnd = new EventEmitter<HTMLElement>();\n\n  private elPos: Position = { x: 0, y: 0 };\n\n  private startPos: Position;\n\n  private boundaries: Boundaries;\n\n  private draggableEl: HTMLElement = this.el.nativeElement;\n\n  offsetX: Number;\n  offsetY: Number;\n\n  start$: Observable<any>;\n  move$: Observable<any>;\n  end$: Observable<any>;\n\n  private destroy$ = new Subject<any>();\n\n  constructor(\n    private el: ElementRef,\n    private renderer: Renderer2,\n    @Inject(DOCUMENT) private document: any) {}\n\n  @HostBinding('class.mdb-draggable')\n  movable = true;\n\n  @HostBinding('class.mdb-dragging')\n  dragging = false;\n\n  private _subscribeToEvents() {\n    const drag = this.start$\n      .pipe(\n        filter( (event: any) => event.button !== 2 ),\n        concatMap( (event: any) => {\n          this.onDragStart(event);\n          return this.move$\n            .pipe(\n              tap( (moveEvent: any) => {\n                this.onDragMove(moveEvent);\n              }),\n              takeUntil(this.end$)\n            );\n        }),\n        takeUntil(this.destroy$)\n      );\n\n      const drop = this.start$\n      .pipe(\n        concatMap( () => {\n          return this.end$\n            .pipe(\n              first(),\n              tap(() => {\n                this.onDragEnd();\n              })\n            );\n        }),\n        takeUntil(this.destroy$)\n      );\n\n      drag.subscribe();\n      drop.subscribe();\n\n  }\n\n  ngOnInit() {\n\n    this.start$ = merge(\n      fromEvent(this.draggableEl, 'mousedown', { passive: false }),\n      fromEvent(this.draggableEl, 'touchstart', { passive: false })\n    );\n\n    this.move$ = merge(\n      fromEvent(this.document, 'mousemove', { passive: false }),\n      fromEvent(this.document, 'touchmove', { passive: false })\n    );\n\n    this.end$ = merge(\n      fromEvent(this.document, 'mouseup', { passive: false }),\n      fromEvent(this.document, 'touchend', { passive: false }),\n    );\n\n    this._subscribeToEvents();\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  private _resetPos() {\n    this.elPos.x = 0;\n    this.elPos.y = 0;\n    this.renderer.setStyle(this.el.nativeElement, 'transition', 'transform ease .5s');\n\n    this._updatePosition();\n  }\n\n  private getHtmlElement(selector: string) {\n    return this.document.querySelector(selector);\n  }\n\n  private _measureBoundaries() {\n    const viewRect: ClientRect = this.boundTo.getBoundingClientRect();\n    const movableClientRect: ClientRect = this.el.nativeElement.getBoundingClientRect();\n\n    this.boundaries = {\n      minX: viewRect.left - movableClientRect.left + this.elPos.x,\n      maxX: viewRect.right - movableClientRect.right + this.elPos.x,\n      minY: viewRect.top - movableClientRect.top + this.elPos.y,\n      maxY: viewRect.bottom - movableClientRect.bottom + this.elPos.y\n    };\n  }\n\n  private _applyBoundaries() {\n    this.elPos.x = Math.max(this.boundaries.minX, this.elPos.x);\n    this.elPos.x = Math.min(this.boundaries.maxX, this.elPos.x);\n    this.elPos.y = Math.max(this.boundaries.minY, this.elPos.y);\n    this.elPos.y = Math.min(this.boundaries.maxY, this.elPos.y);\n  }\n\n  onDragStart(event: any) {\n    event.preventDefault();\n    if (event instanceof MouseEvent && event.button === 2) {\n      return;\n    }\n\n    if (this.resetPosition) {\n      this.renderer.removeStyle(this.el.nativeElement, 'transition');\n    }\n\n    this.dragging = true;\n\n    if (event.type === 'mousedown') {\n      this.startPos = {\n        x: event.pageX - this.elPos.x,\n        y: event.pageY - this.elPos.y\n      };\n    } else {\n      this.startPos = {\n        x: event.changedTouches[0].pageX - this.elPos.x,\n        y: event.changedTouches[0].pageY - this.elPos.y\n      };\n    }\n\n    if (this.boundTo) {\n      this._measureBoundaries();\n    }\n\n    this.dragStart.emit(this.el.nativeElement);\n\n  }\n\n  private _updateScrollPos() {\n    const elRect = this.el.nativeElement.getBoundingClientRect();\n\n    const height = this.document.documentElement.clientHeight;\n    const width = this.document.documentElement.clientWidth;\n\n\n    if (elRect.top < this.scrollSensitivity) {\n      this.document.documentElement.scrollTop -= this.scrollSpeed;\n    }\n\n    if (elRect.top + elRect.height > height - this.scrollSensitivity) {\n      this.document.documentElement.scrollTop += this.scrollSpeed;\n    }\n\n    if (elRect.left  < this.scrollSensitivity) {\n      this.document.documentElement.scrollLeft -= this.scrollSpeed;\n    }\n\n    if (elRect.left + elRect.width > width - this.scrollSensitivity) {\n      this.document.documentElement.scrollLeft += this.scrollSpeed;\n    }\n  }\n\n  onDragMove(event: any) {\n    event.preventDefault();\n    if (this.disabled) {\n      return;\n    }\n\n    if (this.snapToGrid && this.gridSize > 1) {\n      if (event.type === 'mousemove') {\n        this.elPos.x = Math.round((event.pageX - this.startPos.x) / this.gridSize) * this.gridSize;\n        this.elPos.y = Math.round((event.pageY - this.startPos.y) / this.gridSize) * this.gridSize;\n      } else {\n        this.elPos.x = Math.round((event.changedTouches[0].pageX - this.startPos.x) / this.gridSize) * this.gridSize;\n        this.elPos.y = Math.round((event.changedTouches[0].pageY - this.startPos.y) / this.gridSize) * this.gridSize;\n      }\n    } else {\n      if (event.type === 'mousemove') {\n        this.elPos.x = event.pageX - this.startPos.x;\n        this.elPos.y = event.pageY - this.startPos.y;\n      } else {\n        this.elPos.x = event.changedTouches[0].pageX - this.startPos.x;\n        this.elPos.y = event.changedTouches[0].pageY - this.startPos.y;\n      }\n    }\n\n    if (this.boundTo) {\n      this._applyBoundaries();\n    }\n\n    if (this.lockAxis === 'x') {\n      this.elPos.y = 0;\n    }\n\n    if (this.lockAxis === 'y') {\n      this.elPos.x = 0;\n    }\n\n    if (this.autoScroll) {\n      this._updateScrollPos();\n    }\n\n    this._updatePosition();\n  }\n\n  onDragEnd() {\n    this.dragging = false;\n\n    if (this.resetPosition) {\n      this._resetPos();\n    }\n\n    this.dragEnd.emit(this.el.nativeElement);\n  }\n\n  private _updatePosition() {\n    requestAnimationFrame(() => {\n      const position = `translate(${this.elPos.x}px, ${this.elPos.y}px)`;\n      this.renderer.setStyle(this.el.nativeElement, 'transform', position);\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { MdbDraggableDirective } from './mdb-draggable.directive';\n\n@NgModule({\n  declarations: [MdbDraggableDirective],\n  imports: [\n  ],\n  exports: [MdbDraggableDirective]\n})\nexport class MdbDraggableModule { }\n","/*\n * Public API Surface of mdb-draggable\n */\n\nexport * from './lib/mdb-draggable.directive';\nexport * from './lib/mdb-draggable.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":";;;;;MAqBa,qBAAqB;IAsDhC,YACU,EAAc,EACd,QAAmB,EACD,QAAa;QAF/B,OAAE,GAAF,EAAE,CAAY;QACd,aAAQ,GAAR,QAAQ,CAAW;QACD,aAAQ,GAAR,QAAQ,CAAK;QAxDhC,aAAQ,GAAG,KAAK,CAAC;QACjB,kBAAa,GAAG,KAAK,CAAC;QAwBtB,oBAAe,GAAG,EAAE,CAAC;QACrB,aAAQ,GAAW,IAAI,CAAC;QACxB,eAAU,GAAG,IAAI,CAAC;QAClB,gBAAW,GAAG,EAAE,CAAC;QACjB,sBAAiB,GAAG,EAAE,CAAC;QACvB,eAAU,GAAG,KAAK,CAAC;QACnB,aAAQ,GAAG,CAAC,CAAC;QAEZ,cAAS,GAAG,IAAI,YAAY,EAAe,CAAC;QAC5C,YAAO,GAAG,IAAI,YAAY,EAAe,CAAC;QAE5C,UAAK,GAAa,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;QAMjC,gBAAW,GAAgB,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC;QASjD,aAAQ,GAAG,IAAI,OAAO,EAAO,CAAC;QAQtC,YAAO,GAAG,IAAI,CAAC;QAGf,aAAQ,GAAG,KAAK,CAAC;KAN4B;IAtD7C,IACI,OAAO,KAAK,OAAO,IAAI,CAAC,QAAQ,CAAC,EAAE;IACvC,IAAI,OAAO,CAAC,KAAU;QACpB,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;YAC7B,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;SAC5C;aAAM;YACL,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;SACvB;KACF;IAED,IACI,MAAM,KAAK,OAAO,IAAI,CAAC,OAAO,CAAC,EAAE;IACrC,IAAI,MAAM,CAAC,KAAU;QACnB,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;YAC7B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;YAC1C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC;SAC/C;aAAM;YACL,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;SAC1B;KACF;IA0CO,kBAAkB;QACxB,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM;aACrB,IAAI,CACH,MAAM,CAAE,CAAC,KAAU,KAAK,KAAK,CAAC,MAAM,KAAK,CAAC,CAAE,EAC5C,SAAS,CAAE,CAAC,KAAU;YACpB,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YACxB,OAAO,IAAI,CAAC,KAAK;iBACd,IAAI,CACH,GAAG,CAAE,CAAC,SAAc;gBAClB,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;aAC5B,CAAC,EACF,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CACrB,CAAC;SACL,CAAC,EACF,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CACzB,CAAC;QAEF,MAAM,IAAI,GAAG,IAAI,CAAC,MAAM;aACvB,IAAI,CACH,SAAS,CAAE;YACT,OAAO,IAAI,CAAC,IAAI;iBACb,IAAI,CACH,KAAK,EAAE,EACP,GAAG,CAAC;gBACF,IAAI,CAAC,SAAS,EAAE,CAAC;aAClB,CAAC,CACH,CAAC;SACL,CAAC,EACF,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CACzB,CAAC;QAEF,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,IAAI,CAAC,SAAS,EAAE,CAAC;KAEpB;IAED,QAAQ;QAEN,IAAI,CAAC,MAAM,GAAG,KAAK,CACjB,SAAS,CAAC,IAAI,CAAC,WAAW,EAAE,WAAW,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,EAC5D,SAAS,CAAC,IAAI,CAAC,WAAW,EAAE,YAAY,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAC9D,CAAC;QAEF,IAAI,CAAC,KAAK,GAAG,KAAK,CAChB,SAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,WAAW,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,EACzD,SAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,WAAW,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAC1D,CAAC;QAEF,IAAI,CAAC,IAAI,GAAG,KAAK,CACf,SAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,SAAS,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,EACvD,SAAS,CAAC,IAAI,CAAC,QAAQ,EAAE,UAAU,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CACzD,CAAC;QAEF,IAAI,CAAC,kBAAkB,EAAE,CAAC;KAC3B;IAED,WAAW;QACT,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;QACrB,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;KAC1B;IAEO,SAAS;QACf,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;QACjB,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,YAAY,EAAE,oBAAoB,CAAC,CAAC;QAElF,IAAI,CAAC,eAAe,EAAE,CAAC;KACxB;IAEO,cAAc,CAAC,QAAgB;QACrC,OAAO,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;KAC9C;IAEO,kBAAkB;QACxB,MAAM,QAAQ,GAAe,IAAI,CAAC,OAAO,CAAC,qBAAqB,EAAE,CAAC;QAClE,MAAM,iBAAiB,GAAe,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;QAEpF,IAAI,CAAC,UAAU,GAAG;YAChB,IAAI,EAAE,QAAQ,CAAC,IAAI,GAAG,iBAAiB,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;YAC3D,IAAI,EAAE,QAAQ,CAAC,KAAK,GAAG,iBAAiB,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;YAC7D,IAAI,EAAE,QAAQ,CAAC,GAAG,GAAG,iBAAiB,CAAC,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;YACzD,IAAI,EAAE,QAAQ,CAAC,MAAM,GAAG,iBAAiB,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;SAChE,CAAC;KACH;IAEO,gBAAgB;QACtB,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC5D,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC5D,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC5D,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;KAC7D;IAED,WAAW,CAAC,KAAU;QACpB,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,IAAI,KAAK,YAAY,UAAU,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;YACrD,OAAO;SACR;QAED,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC;SAChE;QAED,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QAErB,IAAI,KAAK,CAAC,IAAI,KAAK,WAAW,EAAE;YAC9B,IAAI,CAAC,QAAQ,GAAG;gBACd,CAAC,EAAE,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC7B,CAAC,EAAE,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;aAC9B,CAAC;SACH;aAAM;YACL,IAAI,CAAC,QAAQ,GAAG;gBACd,CAAC,EAAE,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;gBAC/C,CAAC,EAAE,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;aAChD,CAAC;SACH;QAED,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,IAAI,CAAC,kBAAkB,EAAE,CAAC;SAC3B;QAED,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC;KAE5C;IAEO,gBAAgB;QACtB,MAAM,MAAM,GAAG,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,qBAAqB,EAAE,CAAC;QAE7D,MAAM,MAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,YAAY,CAAC;QAC1D,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,WAAW,CAAC;QAGxD,IAAI,MAAM,CAAC,GAAG,GAAG,IAAI,CAAC,iBAAiB,EAAE;YACvC,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,SAAS,IAAI,IAAI,CAAC,WAAW,CAAC;SAC7D;QAED,IAAI,MAAM,CAAC,GAAG,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,GAAG,IAAI,CAAC,iBAAiB,EAAE;YAChE,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,SAAS,IAAI,IAAI,CAAC,WAAW,CAAC;SAC7D;QAED,IAAI,MAAM,CAAC,IAAI,GAAI,IAAI,CAAC,iBAAiB,EAAE;YACzC,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,UAAU,IAAI,IAAI,CAAC,WAAW,CAAC;SAC9D;QAED,IAAI,MAAM,CAAC,IAAI,GAAG,MAAM,CAAC,KAAK,GAAG,KAAK,GAAG,IAAI,CAAC,iBAAiB,EAAE;YAC/D,IAAI,CAAC,QAAQ,CAAC,eAAe,CAAC,UAAU,IAAI,IAAI,CAAC,WAAW,CAAC;SAC9D;KACF;IAED,UAAU,CAAC,KAAU;QACnB,KAAK,CAAC,cAAc,EAAE,CAAC;QACvB,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,OAAO;SACR;QAED,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,QAAQ,GAAG,CAAC,EAAE;YACxC,IAAI,KAAK,CAAC,IAAI,KAAK,WAAW,EAAE;gBAC9B,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC3F,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC;aAC5F;iBAAM;gBACL,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC;gBAC7G,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC;aAC9G;SACF;aAAM;YACL,IAAI,KAAK,CAAC,IAAI,KAAK,WAAW,EAAE;gBAC9B,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAC7C,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;aAC9C;iBAAM;gBACL,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAC/D,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,KAAK,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;aAChE;SACF;QAED,IAAI,IAAI,CAAC,OAAO,EAAE;YAChB,IAAI,CAAC,gBAAgB,EAAE,CAAC;SACzB;QAED,IAAI,IAAI,CAAC,QAAQ,KAAK,GAAG,EAAE;YACzB,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;SAClB;QAED,IAAI,IAAI,CAAC,QAAQ,KAAK,GAAG,EAAE;YACzB,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC;SAClB;QAED,IAAI,IAAI,CAAC,UAAU,EAAE;YACnB,IAAI,CAAC,gBAAgB,EAAE,CAAC;SACzB;QAED,IAAI,CAAC,eAAe,EAAE,CAAC;KACxB;IAED,SAAS;QACP,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QAEtB,IAAI,IAAI,CAAC,aAAa,EAAE;YACtB,IAAI,CAAC,SAAS,EAAE,CAAC;SAClB;QAED,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,CAAC,CAAC;KAC1C;IAEO,eAAe;QACrB,qBAAqB,CAAC;YACpB,MAAM,QAAQ,GAAG,aAAa,IAAI,CAAC,KAAK,CAAC,CAAC,OAAO,IAAI,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC;YACnE,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE,CAAC,aAAa,EAAE,WAAW,EAAE,QAAQ,CAAC,CAAC;SACtE,CAAC,CAAC;KACJ;;;YAlRF,SAAS,SAAC;gBACT,QAAQ,EAAE,gBAAgB;aAC3B;;;YAlBC,UAAU;YAEV,SAAS;4CA0EN,MAAM,SAAC,QAAQ;;;uBAxDjB,KAAK;4BACL,KAAK;sBACL,KAAK;qBAUL,KAAK;8BAaL,KAAK;uBACL,KAAK;yBACL,KAAK;0BACL,KAAK;gCACL,KAAK;yBACL,KAAK;uBACL,KAAK;wBAEL,MAAM;sBACN,MAAM;sBAwBN,WAAW,SAAC,qBAAqB;uBAGjC,WAAW,SAAC,oBAAoB;;;MC1EtB,kBAAkB;;;YAN9B,QAAQ,SAAC;gBACR,YAAY,EAAE,CAAC,qBAAqB,CAAC;gBACrC,OAAO,EAAE,EACR;gBACD,OAAO,EAAE,CAAC,qBAAqB,CAAC;aACjC;;;ACRD;;;;ACAA;;;;;;"}