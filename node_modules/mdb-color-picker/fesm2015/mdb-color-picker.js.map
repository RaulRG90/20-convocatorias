{"version":3,"file":"mdb-color-picker.js","sources":["../../../projects/mdb-color-picker/src/lib/services/mdb-color-picker.service.ts","../../../projects/mdb-color-picker/src/lib/components/mdb-color-palette/mdb-color-palette.component.ts","../../../projects/mdb-color-picker/src/lib/components/mdb-color-picker/mdb-color-picker.component.ts","../../../projects/mdb-color-picker/src/lib/directives/mdb-color-draggable.directive.ts","../../../projects/mdb-color-picker/src/lib/components/mdb-color-slider/mdb-color-slider.component.ts","../../../projects/mdb-color-picker/src/lib/components/mdb-color-picker-alpha-slider/mdb-color-picker-alpha-slider.component.ts","../../../projects/mdb-color-picker/src/lib/directives/mdb-color-picker-toggle.directive.ts","../../../projects/mdb-color-picker/src/lib/mdb-color-picker.module.ts","../../../projects/mdb-color-picker/src/public_api.ts","../../../projects/mdb-color-picker/src/mdb-color-picker.ts"],"sourcesContent":["import { Coords } from './../interfaces/coords.interface';\nimport { Injectable } from '@angular/core';\nimport { Subject, Observable } from 'rxjs';\n@Injectable({\n  providedIn: 'root'\n})\nexport class MdbColorPickerService {\n  private _segmentedColor: string;\n  private _segmentedColorChange: Subject<string> = new Subject<string>();\n\n  private _alpha = '0.5';\n  private _alphaChange: Subject<string> = new Subject<string>();\n\n  private _coords: Coords;\n  private _coordsChange: Subject<Coords> = new Subject<Coords>();\n\n  private _rgbaColor: Array<string> | string;\n\n  private _rgbaSegments: Array<string> = ['255', '255', '255', '0.5'];\n\n  private _color: { rgbaColor: string, hexColor: string } = { rgbaColor: '', hexColor: '' };\n  private _colorChange: Subject<{ rgbaColor: string, hexColor: string }> = new Subject<{ rgbaColor: string, hexColor: string }>();\n\n  private _colorPalette: any[] = [];\n  private _colorPaletteChange: Subject<Array<any>> = new Subject<Array<any>>();\n\n  public setColorPalette(colorArray: Array<any>) {\n    this._colorPalette = colorArray;\n    this._colorPaletteChange.next(this.getColorPalette());\n  }\n\n  public addColorToPalette(color: any) {\n    this._colorPalette.push(color);\n    this._colorPaletteChange.next(this.getColorPalette());\n  }\n\n  public getColorPalette() {\n    return this._colorPalette;\n  }\n\n  public removeColorFromPalette(index: number) {\n    this._colorPalette.splice(index, 1);\n  }\n\n  public colorPaletteWasChanged(): Observable<Array<any>> {\n    return this._colorPaletteChange;\n  }\n\n  private setColor(rgbaColor?: any, hexColor?: any) {\n    this._color.rgbaColor = rgbaColor;\n    this._color.hexColor = hexColor;\n    this._colorChange.next(this.getColor());\n  }\n\n  public getColor() {\n    return this._color;\n  }\n\n  public colorWasChanged(): Observable<{ rgbaColor: string, hexColor: string }> {\n    return this._colorChange;\n  }\n\n  setSegmentedColor(value: string) {\n    this._segmentedColor = value;\n    this._segmentedColorChange.next(this.getSegmentedColor());\n\n    const rgbaColor = this.convertToRGBA();\n    const hexColor = this.rgbaToHex(this.getRgbaColor());\n    this.setColor(rgbaColor, hexColor);\n  }\n\n  getSegmentedColor() {\n    return this._segmentedColor;\n  }\n\n  colorSegmentedWasChanged(): Observable<string> {\n    return this._segmentedColorChange;\n  }\n\n  public setAlpha(value: string) {\n    this._alpha = value;\n    this._alphaChange.next(this.getAlpha());\n\n    const rgbaColor = this.convertToRGBA();\n    const hexColor = this.rgbaToHex(this.getRgbaColor());\n    this.setColor(rgbaColor, hexColor);\n  }\n\n  public getAlpha() {\n    return this._alpha;\n  }\n\n  public alphaWasChanged(): Observable<string> {\n    return this._alphaChange;\n  }\n\n  public setCoords(value: Coords) {\n    this._coords = value;\n    this._coordsChange.next(this.getCoords());\n  }\n\n  public getCoords() {\n    return this._coords;\n  }\n\n  public coordsWasChanged(): Observable<Coords> {\n    return this._coordsChange;\n  }\n\n  protected convertToRGBA() {\n    this._rgbaColor = this.getSegmentedColor().split(',');\n    const alphaChannel = this.getAlpha();\n    this._rgbaSegments[0] = this._rgbaColor[0];\n    this._rgbaSegments[1] = this._rgbaColor[1];\n    this._rgbaSegments[2] = this._rgbaColor[2];\n    this._rgbaSegments[3] = alphaChannel;\n    return 'rgba(' + this._rgbaSegments.toString() + ')';\n  }\n\n  public getRgbaColor() {\n    return this.convertToRGBA();\n  }\n\n  public getHexColor() {\n    return this.rgbaToHex(this.getSegmentedColor() + ',' + this.getAlpha());\n  }\n\n  public rgbaToHex(value: any) {\n    value = value.match(/^rgba?[\\s+]?\\([\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?,[\\s+]?(\\d+)[\\s+]?/i);\n    return (value && value.length === 4) ? '#' +\n      ('0' + parseInt(value[1], 10).toString(16)).slice(-2) +\n      ('0' + parseInt(value[2], 10).toString(16)).slice(-2) +\n      ('0' + parseInt(value[3], 10).toString(16)).slice(-2) : '';\n  }\n\n  public hexToRgba(value: string, alpha?: string) {\n    const r = parseInt(value.slice(1, 3), 16);\n    const g = parseInt(value.slice(3, 5), 16);\n    const b = parseInt(value.slice(5, 7), 16);\n\n    if (alpha) {\n      return `rgba(${r}, ${g}, ${b}, ${alpha})`;\n    } else {\n      return `rgb(${r}, ${g}, ${b})`;\n    }\n  }\n\n  constructor() { }\n}\n","import { MdbColorPickerService } from './../../services/mdb-color-picker.service';\nimport {\n  Component,\n  ViewChild,\n  ElementRef,\n  AfterViewInit,\n  Input,\n  Output,\n  SimpleChanges,\n  OnChanges,\n  EventEmitter,\n  HostListener,\n  Renderer2,\n  Inject,\n  PLATFORM_ID\n} from '@angular/core';\nimport { Coords } from '../../interfaces/coords.interface';\nimport { isPlatformBrowser } from '@angular/common';\n\n@Component({\n  selector: 'mdb-color-palette',\n  templateUrl: './mdb-color-palette.component.html',\n  styleUrls: ['./mdb-color-palette.component.scss']\n})\nexport class MdbColorPaletteComponent implements AfterViewInit, OnChanges {\n  @Input() hue: string;\n\n  @Output() color: EventEmitter<string> = new EventEmitter(true);\n\n  @ViewChild('canvas', { static: true }) canvas:\n    | ElementRef<HTMLCanvasElement>\n    | any;\n\n  private ctx: CanvasRenderingContext2D | any;\n  private mousedown = false;\n  isBrowser: boolean = false;\n\n  public selectedPosition: { x: number; y: number };\n\n  @HostListener('window:mouseup') onmouseup() {\n    this.mousedown = false;\n  }\n\n  constructor(\n    private renderer: Renderer2,\n    private colorService: MdbColorPickerService,\n    @Inject(PLATFORM_ID) private platformId: any\n  ) {\n    this.isBrowser = isPlatformBrowser(this.platformId);\n    this.colorService.coordsWasChanged().subscribe((data: Coords) => {\n      this.getColorAtPosition(data.x, data.y);\n      this.selectedPosition = { x: data.x, y: data.y };\n      this.draw();\n    });\n\n    this.colorService.colorWasChanged().subscribe(() => {\n      this.draw();\n    });\n  }\n\n  private draw() {\n    if (this.isBrowser) {\n      if (!this.ctx) {\n        this.ctx = this.canvas.nativeElement.getContext('2d');\n      }\n\n      setTimeout(() => {\n        const canvasParentWidth: any = this.canvas.nativeElement.parentElement\n          .parentElement.clientWidth;\n\n        this.renderer.setAttribute(\n          this.canvas.nativeElement,\n          'width',\n          canvasParentWidth + 'px'\n        );\n\n        const width = this.canvas.nativeElement.clientWidth;\n        const height = this.canvas.nativeElement.clientHeight;\n\n        this.ctx.fillStyle = this.hue || 'rgba(255, 255, 255, 1)';\n        this.ctx.fillRect(0, 0, width, height);\n\n        const whiteGrad = this.ctx.createLinearGradient(0, 0, width, 0);\n        whiteGrad.addColorStop(0, 'rgba(255, 255, 255, 1)');\n        whiteGrad.addColorStop(1, 'rgba(255, 255, 255, 0)');\n\n        this.ctx.fillStyle = whiteGrad;\n        this.ctx.fillRect(0, 0, width, height);\n\n        const blackGrad = this.ctx.createLinearGradient(0, 0, 0, height);\n        blackGrad.addColorStop(0, 'rgba(0, 0, 0, 0)');\n        blackGrad.addColorStop(1, 'rgba(0, 0, 0, 1)');\n\n        this.ctx.fillStyle = blackGrad;\n        this.ctx.fillRect(0, 0, width, height);\n\n        if (this.selectedPosition) {\n          this.ctx.strokeStyle = 'white';\n          this.ctx.fillStyle = 'white';\n          this.ctx.beginPath();\n          this.ctx.arc(\n            this.selectedPosition.x,\n            this.selectedPosition.y,\n            5,\n            0,\n            2 * Math.PI\n          );\n          this.ctx.lineWidth = 2;\n          this.ctx.stroke();\n        }\n      }, 0);\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if (changes['hue']) {\n      this.draw();\n      const pos = this.selectedPosition;\n      if (pos) {\n        this.getColorAtPosition(pos.x, pos.y);\n      }\n    }\n  }\n\n  onMouseDown(event: any) {\n    this.mousedown = true;\n    if (event.type === 'touchstart') {\n      const rect = event.target.getBoundingClientRect();\n      this.selectedPosition = {\n        x: event.targetTouches[0].pageX - rect.left,\n        y: event.targetTouches[0].pageY - rect.top\n      };\n    } else if (event.type === 'mousedown') {\n      this.selectedPosition = { x: event.offsetX, y: event.offsetY };\n    }\n    this.draw();\n    this.getColorAtPosition(this.selectedPosition.x, this.selectedPosition.y);\n  }\n\n  onMouseMove(event: any) {\n    if (this.mousedown) {\n      if (event.type === 'touchmove') {\n        event.preventDefault();\n        const rect = event.target.getBoundingClientRect();\n        this.selectedPosition = {\n          x: event.targetTouches[0].pageX - rect.left,\n          y: event.targetTouches[0].pageY - rect.top\n        };\n      } else if (event.type === 'mousemove') {\n        this.selectedPosition = { x: event.offsetX, y: event.offsetY };\n      }\n      this.draw();\n      this.getColorAtPosition(this.selectedPosition.x, this.selectedPosition.y);\n    }\n  }\n\n  protected getColorAtPosition(x: number, y: number) {\n    if (this.isBrowser) {\n      const imageData = this.ctx.getImageData(x, y, 1, 1).data;\n      this.colorService.setSegmentedColor(\n        `${imageData[0]},${imageData[1]},${imageData[2]}`\n      );\n      return (\n        'rgba(' + imageData[0] + ',' + imageData[1] + ',' + imageData[2] + ',1)'\n      );\n    }\n  }\n\n  private pickColorAtStart(x: number, y: number) {\n    if (this.isBrowser) {\n      this.selectedPosition = { x: x, y: y };\n      this.ctx.strokeStyle = 'white';\n      this.ctx.fillStyle = 'white';\n      this.ctx.beginPath();\n      this.ctx.arc(\n        this.selectedPosition.x,\n        this.selectedPosition.y,\n        10,\n        0,\n        2 * Math.PI\n      );\n      this.ctx.lineWidth = 5;\n      this.ctx.stroke();\n      this.getColorAtPosition(x, y);\n      this.colorService.setCoords({ x: x, y: y });\n    }\n  }\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      this.pickColorAtStart(195, 75);\n      this.draw();\n    }, 0);\n  }\n}\n","import {\n  Component,\n  ChangeDetectorRef,\n  AfterViewInit,\n  Input,\n  ElementRef,\n  OnDestroy,\n  Renderer2\n} from '@angular/core';\nimport { MdbColorPickerService } from '../../services/mdb-color-picker.service';\nimport { Config } from '../../interfaces/config.interface';\nimport { takeUntil } from 'rxjs/operators';\nimport { Subject } from 'rxjs';\n\n@Component({\n  selector: 'mdb-color-picker',\n  templateUrl: './mdb-color-picker.component.html',\n  styleUrls: ['./mdb-color-picker.component.scss'],\n  exportAs: 'mdb-color-picker'\n})\nexport class MdbColorPickerComponent implements AfterViewInit, OnDestroy {\n  @Input() colorPalette: Array<any> = [];\n  @Input() options: Config | any;\n  @Input() defaultRangeSlider: boolean = true;\n\n  public hue: string;\n  public colorString: any;\n\n  config: Config | any = {\n    showPalette: true,\n    showOpacitySlider: true,\n    showRgbaHexColorText: true\n  };\n\n  color: any;\n  alphaChannel = '0.5';\n  opacityValue: string = '';\n\n  private colorSegments: Array<string> = ['255', '255', '255', '1'];\n  private observer: MutationObserver;\n\n  switchValue = false;\n  isBrowser: boolean = false;\n  showPicker = false;\n\n  private componentDestroyed = new Subject<any>();\n\n  constructor(\n    private colorService: MdbColorPickerService,\n    private cdRef: ChangeDetectorRef,\n    public el: ElementRef,\n    private renderer: Renderer2\n  ) {\n    this.colorService\n      .colorSegmentedWasChanged()\n      .pipe(takeUntil(this.componentDestroyed))\n      .subscribe((data: string) => {\n        this.colorString =\n          'rgba(' + data.split(',') + ', ' + this.alphaChannel + ')';\n        this.color = this.colorService.getSegmentedColor();\n        this.color = this.color.split(',');\n        this.change();\n        this.cdRef.detectChanges();\n      });\n\n    this.colorService.alphaWasChanged().subscribe(() => {\n      this.alphaChannel = this.colorService.getAlpha();\n    });\n\n    this.colorService.coordsWasChanged().subscribe(() => {\n      this.colorService.colorWasChanged().subscribe((color: any) => {\n        if (this.switchValue === false) {\n          this.colorString = color.rgbaColor;\n        } else {\n          this.colorString = color.hexColor;\n        }\n      });\n    });\n\n    this.colorService.colorPaletteWasChanged().subscribe((data: any) => {\n      this.colorPalette = data;\n    });\n\n    // Resolves problem with hidden canvas of color picker and color slider\n    // when color picker component was placed inside of static modal\n    this.observer = new MutationObserver(mutations => {\n      mutations.forEach((mutation: any) => {\n        const stylesAttribute = mutation.target.getAttribute('style');\n        if (stylesAttribute) {\n          this.showPicker = stylesAttribute.includes('visibility: visible');\n          this.cdRef.detectChanges();\n        }\n      });\n    });\n\n    this.observer.observe(this.el.nativeElement, {\n      attributes: true,\n      childList: true,\n      characterData: true\n    });\n  }\n\n  private setOptions() {\n    if (this.options !== undefined) {\n      Object.keys(this.options).forEach((k: any) => {\n        this.config[k] = this.options[k];\n      });\n    }\n  }\n\n  onAlphaInput(event: any) {\n    this.colorService.setAlpha(event.target.value);\n    this.colorSegments[0] = this.color[0];\n    this.colorSegments[1] = this.color[1];\n    this.colorSegments[2] = this.color[2];\n    this.colorSegments[3] = this.alphaChannel;\n    this.colorString = 'rgba(' + this.colorSegments.toString() + ')';\n    this.change();\n  }\n\n  copyToClipboard(type: string) {\n    const el = this.renderer.createElement('textarea');\n    if (type === 'color') {\n      el.value = this.colorString;\n    } else if (type === 'palette') {\n      this.colorService.getColorPalette().forEach((color: any) => {\n        el.value += '{';\n        el.value += 'rgbaColor: ' + `'${color.rgbaColor}'` + ', ';\n        el.value += 'hexColor: ' + `'${color.hexColor}'`;\n        el.value += '}, ';\n      });\n    }\n    this.renderer.setAttribute(el, 'readonly', '');\n    this.renderer.setStyle(el, 'position', 'absolute');\n    this.renderer.setStyle(el, 'left', '-9999px');\n    this.renderer.appendChild(document.body, el);\n    el.select();\n    document.execCommand('copy');\n    this.renderer.removeChild(document.body, el);\n  }\n\n  clearColor() {\n    if (this.colorService.getCoords()) {\n      this.colorService.setCoords({\n        x: this.colorService.getCoords().x,\n        y: this.colorService.getCoords().y\n      });\n    } else {\n      this.colorService.setCoords({ x: 122, y: 137 });\n    }\n    this.change();\n    if (this.colorService.getAlpha() !== '0.5') {\n      this.colorService.setAlpha(this.colorService.getAlpha());\n    } else {\n      this.colorService.setAlpha('0.5');\n    }\n    this.colorService.setColorPalette([]);\n  }\n\n  addColorToPalette() {\n    this.colorService.addColorToPalette({\n      rgbaColor: this.colorService.getColor().rgbaColor,\n      hexColor: this.colorService.getColor().hexColor\n    });\n    this.colorPalette = this.colorService.getColorPalette();\n  }\n\n  setColorPaletteCircleColor(index: number) {\n    if (!this.switchValue) {\n      return this.colorPalette[index].rgbaColor;\n    } else if (this.switchValue) {\n      return this.colorPalette[index].hexColor;\n    }\n  }\n\n  protected changeColorSystemTo(colorSystem: string) {\n    if (colorSystem === 'rgba') {\n      this.colorString = this.colorService.getColor().rgbaColor;\n      return 'rgba';\n    } else {\n      this.colorString = this.colorService.getColor().hexColor;\n      return 'hex';\n    }\n  }\n\n  private change() {\n    if (!this.switchValue) {\n      this.changeColorSystemTo('rgba');\n    } else {\n      this.changeColorSystemTo('hex');\n    }\n  }\n\n  changeColorType() {\n    this.switchValue = !this.switchValue;\n    this.change();\n  }\n\n  ngAfterViewInit() {\n    this.changeColorSystemTo('rgba');\n    if (this.colorPalette) {\n      this.colorService.setColorPalette(this.colorPalette);\n    }\n    this.setOptions();\n    this.cdRef.detectChanges();\n  }\n\n  ngOnDestroy() {\n    this.observer.disconnect();\n    this.componentDestroyed.next();\n    this.componentDestroyed.complete();\n  }\n}\n","import {\n  Directive,\n  ElementRef,\n  HostBinding,\n  HostListener\n} from '@angular/core';\n\ninterface Position {\n  x: number;\n}\n\n@Directive({\n  selector: '[mdbColorDraggable]'\n})\nexport class MdbColorDraggableDirective {\n  public elementPosition: Position = { x: 0 };\n\n  private startingPosition: Position;\n\n  constructor(private el: ElementRef) {}\n\n  @HostBinding('class.mdb-movable')\n  movable = true;\n\n  private isElementMoving: boolean;\n\n  @HostListener('mousedown', ['$event'])\n  @HostListener('touchstart', ['$event'])\n  onStartMove(event: any): void {\n    this.isElementMoving = true;\n    this.startMoving(event);\n  }\n\n  @HostListener('document:mousemove', ['$event'])\n  @HostListener('touchmove', ['$event'])\n  onMove(event: any): void {\n    if (!this.isElementMoving) {\n      return;\n    }\n\n    this.movingOver(event);\n  }\n\n  @HostListener('document:mouseup')\n  @HostListener('touchend')\n  onEndMove(): void {\n    if (!this.isElementMoving) {\n      return;\n    }\n    this.isElementMoving = false;\n  }\n\n  private startMoving(event: any) {\n    if (event.type === 'mousedown') {\n      this.startingPosition = {\n        x: event.clientX - this.elementPosition.x\n      };\n    } else {\n      this.startingPosition = {\n        x: event.changedTouches[0].clientX - this.elementPosition.x\n      };\n    }\n  }\n\n  private movingOver(event: any) {\n    if (event.type === 'mousemove') {\n      this.elementPosition.x = event.clientX - this.startingPosition.x;\n    } else {\n      this.elementPosition.x =\n        event.changedTouches[0].clientX - this.startingPosition.x;\n    }\n    this.updatePosition();\n  }\n\n  public moveTo(value: any) {\n    this.elementPosition.x = value;\n    this.updatePosition();\n  }\n\n  private updatePosition() {\n    if (\n      this.elementPosition.x >= 1 &&\n      this.elementPosition.x <= this.el.nativeElement.parentElement.offsetWidth\n    ) {\n      requestAnimationFrame(() => {\n        this.el.nativeElement.style.transform = `\n                translateX(${this.elementPosition.x}px)\n              `;\n      });\n    }\n  }\n}\n","import { MdbColorDraggableDirective } from './../../directives/mdb-color-draggable.directive';\nimport {\n  Component,\n  ViewChild,\n  ElementRef,\n  AfterViewInit,\n  Output,\n  EventEmitter,\n  Renderer2,\n  Inject,\n  PLATFORM_ID\n} from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\n\n@Component({\n  selector: 'mdb-color-slider',\n  templateUrl: './mdb-color-slider.component.html',\n  styleUrls: ['./mdb-color-slider.component.scss']\n})\nexport class MdbColorSliderComponent implements AfterViewInit {\n  @ViewChild('handle', { static: true }) handle: ElementRef;\n  @ViewChild('slider', { static: true }) slider: ElementRef;\n  @ViewChild('canvas', { static: true }) canvas: ElementRef<HTMLCanvasElement>;\n\n  @ViewChild(MdbColorDraggableDirective, { static: true })\n  drag: MdbColorDraggableDirective;\n  @Output() color: EventEmitter<string> = new EventEmitter();\n\n  private mousedown = false;\n  private ctx: CanvasRenderingContext2D | any;\n  private sliderParent: any;\n  private previousImageData: any = null;\n\n  isBrowser: boolean = false;\n\n  constructor(\n    private renderer: Renderer2,\n    private el: ElementRef,\n    @Inject(PLATFORM_ID) private platformId: any\n  ) {\n    this.isBrowser = isPlatformBrowser(this.platformId);\n  }\n\n  handleMouseDown() {\n    if (this.isBrowser) {\n      this.mousedown = true;\n      this.renderer.addClass(this.handle.nativeElement, 'pop');\n      this.renderer.addClass(this.slider.nativeElement, 'grad');\n\n      this.renderer.setStyle(this.canvas.nativeElement, 'margin-left', '-13px');\n    }\n  }\n\n  moveColorCircleToPosition(event: any) {\n    const rect = event.target.getBoundingClientRect();\n    let pos = null;\n    if (event.type === 'touchmove') {\n      event.preventDefault();\n      this.drag.moveTo(event.targetTouches[0].pageX - rect.left);\n      this.drag.elementPosition.x = event.targetTouches[0].pageX - rect.left;\n      pos = {\n        x:\n          event.targetTouches[0].pageX -\n          this.slider.nativeElement.getBoundingClientRect().left,\n        y:\n          event.targetTouches[0].pageY -\n          this.slider.nativeElement.getBoundingClientRect().top\n      };\n    } else if (event.type === 'click') {\n      this.drag.moveTo(event.layerX);\n      this.drag.elementPosition.x = event.layerX;\n\n      pos = {\n        x: event.x - this.slider.nativeElement.getBoundingClientRect().x,\n        y: event.y - this.slider.nativeElement.getBoundingClientRect().y\n      };\n    }\n    if (pos !== null) {\n      this.draw();\n      this.emitColor(pos.x, pos.y);\n      this.renderer.setStyle(\n        this.handle.nativeElement,\n        'background-color',\n        this.getColorAtPosition(pos.x, pos.y)\n      );\n    }\n  }\n\n  handleMouseUp() {\n    this.mousedown = false;\n    this.renderer.removeClass(this.handle.nativeElement, 'pop');\n    this.renderer.removeClass(this.slider.nativeElement, 'grad');\n  }\n\n  handleMouseMove(event: any) {\n    if (this.mousedown) {\n      let left = 0;\n      let pos = null;\n\n      if (event.type === 'touchmove') {\n        event.preventDefault();\n        left =\n          event.targetTouches[0].pageX -\n          this.slider.nativeElement.getBoundingClientRect().left +\n          5;\n        const rect = event.target.getBoundingClientRect();\n        pos = {\n          x: event.targetTouches[0].pageX - rect.left,\n          y: event.targetTouches[0].pageY - rect.top\n        };\n      } else if (event.type === 'mousemove') {\n        left =\n          event.clientX -\n          this.slider.nativeElement.getBoundingClientRect().left +\n          5;\n        pos = {\n          x: event.x - this.slider.nativeElement.getBoundingClientRect().x,\n          y: event.y - this.slider.nativeElement.getBoundingClientRect().y\n        };\n      }\n      if (left <= this.sliderParent.clientWidth && pos !== null) {\n        this.draw();\n        this.emitColor(pos.x, pos.y);\n        this.renderer.setStyle(\n          this.handle.nativeElement,\n          'background-color',\n          this.getColorAtPosition(pos.x, pos.y)\n        );\n      }\n    }\n  }\n\n  private draw() {\n    if (this.isBrowser) {\n      if (!this.ctx) {\n        this.ctx = this.canvas.nativeElement.getContext('2d');\n      }\n\n      setTimeout(() => {\n        const width = this.sliderParent.clientWidth;\n        const height = 12;\n\n        this.renderer.setAttribute(\n          this.canvas.nativeElement,\n          'width',\n          width + 'px'\n        );\n        let grd;\n\n        grd = this.ctx.createLinearGradient(0.0, 150.0, width, 12);\n\n        grd.addColorStop(0.0, 'rgba(255, 0, 0, 1.000)');\n        grd.addColorStop(0.2, 'rgba(255, 0, 255, 1.000)');\n        grd.addColorStop(0.35, 'rgba(0, 0, 255, 1.000)');\n        grd.addColorStop(0.52, 'rgba(0, 255, 255, 1.000)');\n        grd.addColorStop(0.71, 'rgba(0, 255, 0, 1.000)');\n        grd.addColorStop(0.88, 'rgba(255, 255, 0, 1.000)');\n        grd.addColorStop(1.0, 'rgba(255, 0, 148, 1.000)');\n\n        this.ctx.fillStyle = grd;\n        this.ctx.fillRect(0, 0, width, height);\n      }, 0);\n    }\n  }\n\n  ngAfterViewInit() {\n    if (this.isBrowser) {\n      this.sliderParent = this.slider.nativeElement.parentElement.parentElement.parentElement;\n      this.renderer.setStyle(\n        this.slider.nativeElement,\n        'width',\n        this.sliderParent.clientWidth + 'px'\n      );\n      this.draw();\n      this.renderer.setStyle(this.canvas.nativeElement, 'margin-left', '-13px');\n      this.setCanvasParentsWidth();\n    }\n  }\n\n  private setCanvasParentsWidth() {\n    setTimeout(() => {\n      this.renderer.setStyle(\n        this.el.nativeElement,\n        'width',\n        this.sliderParent.clientWidth + 'px'\n      );\n    }, 0);\n  }\n\n  private emitColor(x: number, y: number) {\n    const rgbaColor = this.getColorAtPosition(x, y);\n    this.color.emit(rgbaColor);\n  }\n\n  private getColorAtPosition(x: number, y: number) {\n    if (this.isBrowser) {\n      const imageData = this.ctx.getImageData(x, y, 1, 1).data;\n      if (\n        imageData[0] + imageData[1] + imageData[2] > 0 ||\n        this.previousImageData == null\n      ) {\n        this.previousImageData = imageData;\n      } else {\n        return `rgba(${this.previousImageData[0]},${this.previousImageData[1]}, ${this.previousImageData[2]}, 1)`;\n      }\n      return (\n        'rgba(' + imageData[0] + ',' + imageData[1] + ',' + imageData[2] + ',1)'\n      );\n    }\n  }\n}\n","import { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport {\n  Component,\n  ViewChild,\n  ElementRef,\n  Renderer2,\n  Input,\n  HostListener,\n  forwardRef,\n  AfterViewInit,\n  Output,\n  EventEmitter,\n  ChangeDetectorRef\n} from '@angular/core';\n\nexport const RANGE_VALUE_ACCESOR: any = {\n  provide: NG_VALUE_ACCESSOR,\n  useExisting: forwardRef(() => MdbColorPickerAlphaSliderComponent),\n  multi: true\n};\n\n@Component({\n  selector: 'mdb-color-picker-alpha-slider',\n  templateUrl: './mdb-color-picker-alpha-slider.component.html',\n  providers: [RANGE_VALUE_ACCESOR]\n})\nexport class MdbColorPickerAlphaSliderComponent\n  implements ControlValueAccessor, AfterViewInit {\n  @ViewChild('input') input: ElementRef;\n  @ViewChild('rangeCloud') rangeCloud: ElementRef;\n  @ViewChild('rangeField') rangeField: ElementRef;\n\n  @Input() id: string;\n  @Input() required: boolean;\n  @Input() name: string;\n  @Input() value: string;\n  @Input() disabled: boolean;\n  @Input() min = 0;\n  @Input() max = 100;\n  @Input() step: number;\n  @Input() default: boolean;\n  @Input() defaultRangeCounterClass: string;\n\n  @Output() rangeValueChange = new EventEmitter<any>();\n\n  range: any = 0;\n  stepLength: number;\n  steps: number;\n  cloudRange = 0;\n  visibility = false;\n\n  @HostListener('change', ['$event']) onchange(event: any) {\n    this.onChange(event.target.value);\n  }\n\n  @HostListener('input', ['$event']) oninput(event: any) {\n    const value: number = +event.target.value;\n    this.rangeValueChange.emit({ value: value });\n\n    if (this.checkIfSafari()) {\n      this.focusRangeInput();\n    }\n  }\n\n  @HostListener('click') onclick() {\n    this.focusRangeInput();\n  }\n\n  @HostListener('mouseleave') onmouseleave() {\n    if (this.checkIfSafari()) {\n      this.blurRangeInput();\n    }\n  }\n  constructor(private renderer: Renderer2, private cdRef: ChangeDetectorRef) {}\n\n  focusRangeInput() {\n    this.input.nativeElement.focus();\n    this.visibility = true;\n  }\n\n  blurRangeInput() {\n    this.input.nativeElement.blur();\n    this.visibility = false;\n  }\n\n  coverage(event: any) {\n    if (typeof this.range === 'string' && this.range.length !== 0) {\n      return this.range;\n    }\n\n    if (!this.default) {\n      const newValue = event.target.value;\n      const newRelativeGain = newValue - this.min;\n      const inputWidth = this.input.nativeElement.offsetWidth;\n\n      let thumbOffset = 0;\n      const offsetAmmount = 15;\n      const distanceFromMiddle = newRelativeGain - this.steps / 2;\n\n      this.stepLength = inputWidth / this.steps;\n\n      thumbOffset = (distanceFromMiddle / this.steps) * offsetAmmount;\n      this.cloudRange = this.stepLength * newRelativeGain - thumbOffset;\n\n      this.renderer.setStyle(\n        this.rangeCloud.nativeElement,\n        'left',\n        this.cloudRange + 'px'\n      );\n    }\n  }\n\n  checkIfSafari() {\n    const isSafari = navigator.userAgent.indexOf('Safari') > -1;\n    const isChrome = navigator.userAgent.indexOf('Chrome') > -1;\n    const isFirefox = navigator.userAgent.indexOf('Firefox') > -1;\n    const isOpera = navigator.userAgent.indexOf('Opera') > -1;\n\n    if (isSafari && !isChrome && !isFirefox && !isOpera) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  ngAfterViewInit() {\n    this.steps = this.max - this.min;\n\n    if (this.value) {\n      this.range = this.value;\n      this.cdRef.detectChanges();\n    }\n  }\n\n  // Control Value Accessor Methods\n  onChange = (_: any) => {};\n  onTouched = () => {};\n\n  writeValue(value: any): void {\n    this.value = value;\n  }\n\n  registerOnChange(fn: (_: any) => void): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: () => void): void {\n    this.onTouched = fn;\n  }\n\n  setDisabledState(isDisabled: boolean) {\n    this.disabled = isDisabled;\n  }\n}\n","import { Directive, HostListener, Input, Renderer2 } from '@angular/core';\nimport { MdbColorPickerComponent } from '../components/mdb-color-picker/mdb-color-picker.component';\n\n@Directive({ selector: '[mdbColorPickerToggle]' })\nexport class MdbColorPickerToggleDirective {\n  @Input() mdbColorPickerToggle: MdbColorPickerComponent;\n  @Input() transitionTime: number = 200;\n\n  private _isPickerVisible: boolean = false;\n  private _clickEventTarget: any = null;\n\n  constructor(private renderer: Renderer2) {}\n\n  @HostListener('click', ['$event']) onClick(event: any) {\n    this._clickEventTarget = event.target;\n    this.toggleColorPicker();\n  }\n\n  @HostListener('window:click', ['$event']) onWindowClick(event: any) {\n    if (\n      event.target !== this._clickEventTarget &&\n      this._isPickerVisible &&\n      !this._getClosestEl(event.target, 'mdb-color-picker')\n    ) {\n      this.toggleColorPicker();\n    }\n  }\n\n  public toggleColorPicker() {\n    const opacityStyle = this._isPickerVisible ? '0' : '1';\n    const visibilityStyle = this._isPickerVisible ? 'hidden' : 'visible';\n    this.renderer.setStyle(\n      this.mdbColorPickerToggle.el.nativeElement,\n      'transition',\n      `opacity ${this.transitionTime}ms`\n    );\n    this.renderer.setStyle(\n      this.mdbColorPickerToggle.el.nativeElement,\n      'opacity',\n      opacityStyle\n    );\n    this.renderer.setStyle(\n      this.mdbColorPickerToggle.el.nativeElement,\n      'visibility',\n      'visible'\n    );\n    setTimeout(() => {\n      this.renderer.setStyle(\n        this.mdbColorPickerToggle.el.nativeElement,\n        'visibility',\n        visibilityStyle\n      );\n    }, this.transitionTime);\n    this._isPickerVisible = !this._isPickerVisible;\n  }\n\n  private _getClosestEl(el: any, selector: string) {\n    for (; el && el !== document; el = el.parentNode) {\n      if (el.matches && el.matches(selector)) {\n        return el;\n      }\n    }\n    return null;\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {MdbColorPickerComponent} from './components/mdb-color-picker/mdb-color-picker.component';\nimport {MdbColorSliderComponent} from './components/mdb-color-slider/mdb-color-slider.component';\nimport {MdbColorPaletteComponent} from './components/mdb-color-palette/mdb-color-palette.component';\nimport {MdbColorPickerService} from './services/mdb-color-picker.service';\nimport {MdbColorDraggableDirective} from './directives/mdb-color-draggable.directive';\n\nimport {FormsModule} from '@angular/forms';\nimport {MdbColorPickerToggleDirective} from \"./directives/mdb-color-picker-toggle.directive\";\nimport {MdbColorPickerAlphaSliderComponent} from \"./components/mdb-color-picker-alpha-slider/mdb-color-picker-alpha-slider.component\";\n\n@NgModule({\n  declarations: [\n    MdbColorPickerComponent,\n    MdbColorSliderComponent,\n    MdbColorPaletteComponent,\n    MdbColorDraggableDirective,\n    MdbColorPickerToggleDirective,\n    MdbColorPickerAlphaSliderComponent\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n  ],\n  exports: [\n    MdbColorPickerComponent,\n    MdbColorSliderComponent,\n    MdbColorPaletteComponent,\n    MdbColorDraggableDirective,\n    MdbColorPickerToggleDirective,\n    MdbColorPickerAlphaSliderComponent\n  ],\n  providers: [\n    MdbColorPickerService\n  ]\n})\nexport class MdbColorPickerModule {\n}\n","/*\n * Public API Surface of mdb-color-picker\n */\n//\nexport * from './lib/components/mdb-color-palette/mdb-color-palette.component';\nexport * from './lib/components/mdb-color-picker/mdb-color-picker.component';\nexport * from './lib/components/mdb-color-slider/mdb-color-slider.component';\nexport * from './lib/components/mdb-color-picker-alpha-slider/mdb-color-picker-alpha-slider.component';\nexport * from './lib/directives/mdb-color-draggable.directive';\nexport * from './lib/directives/mdb-color-picker-toggle.directive';\nexport * from './lib/interfaces/config.interface';\nexport * from './lib/interfaces/coords.interface';\nexport * from './lib/services/mdb-color-picker.service';\nexport * from './lib/mdb-color-picker.module';\n\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}